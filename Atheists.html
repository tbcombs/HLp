<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Todd Combs" />

<meta name="date" content="2018-07-29" />

<title>Atheists Feeling Thermometer</title>

<script src="site_libs/header-attrs-2.11/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>





<link rel="stylesheet" href="style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Combs</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li>
  <a href="Seeser_HLpViz.html">
    <span class="fa fa-grid"></span>
     
    HLp-graphics
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Atheists Feeling Thermometer</h1>
<h4 class="author">Todd Combs</h4>
<h4 class="date">July 29, 2018</h4>

</div>


<style type="text/css">

@import url('https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300,300i,700');

h1, h2, h3, h4, h5, body {
font-family: 'Open Sans Condensed', sans-serif;
}

body{ 
      font-size: 16pt;
      counter-reset:table figure;
  }

.table{
  width:auto;
  font-size:26px;
}

th, td {
    padding-right: 30px;
}

caption::before{
  counter-increment: table;
  content: "Table " counter(table) ": ";
}

.caption::before{
  counter-increment: figure;
  content: "Figure " counter(figure) ": ";
}

caption, .caption{
  font-style:italic;
  font-size: 16px;
  margin-top:0.5em;
  margin-bottom:0.5em;
  width:80%;
  text-align: left;
}

#TOC {
  font-size: 17px;
  width: 100%;
}



</style>
<p><img src="RnRlogo.png" alt="Regression in R logo" style="float: right;"></p>
<p><br> <br> <br> <br></p>
<div id="todd-combs" class="section level2">
<h2>Todd Combs</h2>
<p>11 February, 2022</p>
<p><br> <br> <br> <br></p>
</div>
<div id="feelings-toward-atheists-cooling-in-america" class="section level1">
<h1>Feelings toward Atheists cooling in America</h1>
<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p><font size="5"></p>
<p>Historically, results from Pew Religion surveys have shown that of religious groups, Americans’ feelings were coldest for Muslims, and second coldest toward atheists. In 2017, feelings toward atheists warmed, but still practically matched those toward Muslims. You will investigate which types of people have cool or warm feelings toward atheists.</p>
<p>Find and download the American Trends Panel Wave 24 from Pew Religion surveys at: <a href="http://www.pewforum.org/datasets/" class="uri">http://www.pewforum.org/datasets/</a>. You will have to sign up or provide an email address to download the data. The other files (<em>e.g.</em>, topline, questionnaire) come with the dataset and will be helpful.</p>
</div>
<div id="step-1-read-in-data" class="section level2">
<h2>Step 1: Read in data</h2>
<p>Read the data into R. Load only the libraries that you need.</p>
<p>You may also find the adjusted R-squared function we wrote last semester:</p>
<pre class="r"><code>ar2 &lt;- function (srm) # where srm is the survey regression model object
{
  r2 = (srm$null.deviance - srm$deviance)/srm$null.deviance
  adjust = srm$df.null/(srm$df.null - length(coef(srm)))
  value = 1 - ((1 - r2) * adjust)
  return(value)
} 

# Then use ar2(YOURMODELNAME) to calculate the value.</code></pre>
</div>
<div id="step-2-data-management" class="section level2">
<h2>Step 2: Data management</h2>
<p>Find the following variables and rename them with brief, descriptive names, then subset the data to remove all other variables:</p>
<ul>
<li>REL3F_W24</li>
<li>WEIGHT_W24</li>
<li>F_RELIG_FINAL</li>
<li>F_IDEO_FINAL</li>
<li>F_INCOME_FINAL</li>
<li>F_RACETHN_RECRUITMENT</li>
<li>F_EDUCCAT_FINAL</li>
<li>F_AGECAT_FINAL</li>
<li>F_CREGION_FINAL</li>
<li>F_SEX_FINAL</li>
<li>REL5_W24</li>
<li>KIND1_W24</li>
</ul>
<p>Recode the variables into factors. Create five categories for religion: Protestant, Catholic, Atheist/Agnostic, Not religious, and Other (all others). Create three categories for income: less than $30k, $30-75k, &amp; $75 and over. Create descriptve factor level names for all variables except the atheist feeling thermometer and the weighting variable.</p>
<p>Next, declare the data as a survey design.</p>
</div>
<div id="step-3-data-visualization" class="section level2">
<h2>STEP 3: Data visualization</h2>
<p>Since all the predictor variables are factors, use the <code>svyby</code> function to create accurately weighted mean atheist feeling thermometer values for the different categories of each variable. Use these to create descriptive plots.</p>
</div>
<div id="step-4-model" class="section level2">
<h2>STEP 4: Model</h2>
<p>Execute the model. Inspect the results. Remove the three variables that are least significant. Compute the adjusted R-squared value for the second model.</p>
</div>
<div id="step-5-diagnostics" class="section level2">
<h2>STEP 5: Diagnostics</h2>
<p>Since the <code>svyglm</code> function computes robust standard errors, this should be sufficient in terms of potentially heteroskedastic errors. Also, since all of the predictors are categorical, it is unnecessary (and impossible) to check for linear relationships. Check the model for influential observations. Create a plot of the cook’s d values and re-run the model without influential observations if necessary. Compare the estimates and decide what to do.</p>
</div>
<div id="step-6-model-results" class="section level2">
<h2>STEP 6: Model results</h2>
<p>Create a coefficient plot of the estimates from the model. Discuss the overall model fit and interpret each statistically significant coefficient.</p>
</div>
<div id="step-7-predictions" class="section level2">
<h2>STEP 7: Predictions</h2>
<p>Create a plot that compares the predicted atheist feeling thermometer values for the average respondent who is politically liberal with one that is conservative.</p>
<p>Create at least one more comparison plot and discuss both.</p>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
